<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/images/favicon.svg" type="image/x-icon" />
    <link rel="stylesheet" href="style.css" />
    <title>Rogue's Gallery</title>
  </head>
  <body>
    <header>
    <h1>Welcome to Rogue's Gallery</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="login.html">Login</a>
      <a href="logout.html">Logout</a>
      <a href="application.html">App</a>
      <a href="about.html">About</a>
      <!-- Use stylesheet to hide and reveal login and logout in nav depending on what state the user is in -->
    </nav>
</header>
<div class="content-wrapper">

    <form action="/newpost" enctype="multipart/form-data" method="POST">
      <label>Message</label><br />
      <input type="file" name="myImage" accept="image/*" /><br />
      <input type="text" id="message" name="message" /><br />
      <input type="submit" value="Post" />
    </form>
  </body>

</div>

</html>

<!-- DO NOT WANT USER TO UPLOAD IMAGES AS REGULAR POSTS - JUST PFP I THINK -->

<!-- <h2>New post</h2>
    <form action="/newpost" method="POST">
        <label>Message</label>
        <input type="text" id="message" name="message">
        <input type="submit" value="Post message">
    </form>
    <div>
        <ul id="recent-posts">
            <li>one</li>
            <li>two</li>
        </ul>
    </div>
    <script>
        let recentPostsList=document.getElementById('recent-posts')

        fetch('/getposts')
            .then(response=>response.json())
            .then(fetchedData=>{
                console.log(fetchedData)
                processPostData(fetchedData.posts)
            })

        function processPostData(data){
            recentPostsList.innerHTML=''
            data.forEach(function(post){
                let li=document.createElement('li')
                let liText=document.createElement('p')
                liText.textContent=`${post.message} posted by: ${post.postedBy} (#${post.postID})`
                li.appendChild(liText)
                recentPostsList.appendChild(li)
            })
        }
    </script>
</body>
</html> -->

<!-- NOTABLE ISSUE - you can still post when logged out -->
<!-- NOTABLE ISSUE - post time and likes aren't included in posts printed to app  -->

<!-- <h2>post</h2>
<form action="/post" method="POST">
<label>Message</label>
<input type="text" id="message" name="message"><br>
<input type="submit" value="post">
</form>
  </body>
</html> -->
